<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Veredictos Vision - Hybrid Deep Learning Architecture for Retinal Screening</title>
  <style>
    :root {
      --bg: #f4f6f8;
      --paper: #ffffff;
      --ink: #0f1720;
      --muted: #475569;
      --line: #d6dde5;
      --accent: #0b4a6f;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      background: var(--bg);
      color: var(--ink);
      font-family: "Segoe UI", "Helvetica Neue", Arial, sans-serif;
      line-height: 1.45;
      padding: 28px;
    }
    .page {
      max-width: 980px;
      margin: 0 auto;
      background: var(--paper);
      border: 1px solid var(--line);
      padding: 34px 42px;
    }
    h1, h2, h3 { margin: 0 0 10px; line-height: 1.25; }
    h1 { font-size: 28px; color: var(--accent); }
    h2 { font-size: 18px; margin-top: 24px; border-bottom: 1px solid var(--line); padding-bottom: 6px; }
    h3 { font-size: 15px; margin-top: 16px; color: #1f2937; }
    p { margin: 10px 0; }
    .subtitle { color: var(--muted); margin-bottom: 18px; }
    .meta {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 6px 18px;
      font-size: 13px;
      color: #1e293b;
      margin: 12px 0 8px;
    }
    .card {
      border: 1px solid var(--line);
      background: #fbfdff;
      padding: 12px 14px;
      margin: 10px 0;
    }
    .kpi {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
      margin: 12px 0;
    }
    .kpi > div {
      border: 1px solid var(--line);
      background: #f8fbfe;
      padding: 10px;
    }
    .kpi b { display: block; font-size: 22px; color: var(--accent); }
    ul { margin: 8px 0 10px 20px; }
    li { margin: 4px 0; }
    .small { font-size: 12px; color: var(--muted); }
    .footer {
      margin-top: 22px;
      padding-top: 10px;
      border-top: 1px solid var(--line);
      font-size: 12px;
      color: var(--muted);
    }
    code {
      background: #eef2f7;
      border: 1px solid #dde5ee;
      border-radius: 4px;
      padding: 1px 5px;
      font-size: 12px;
    }
    @media print {
      body { background: #fff; padding: 0; }
      .page { border: 0; max-width: none; padding: 18mm 16mm; }
      a { color: inherit; text-decoration: none; }
    }
  </style>
</head>
<body>
  <main class="page">
    <h1>Hybrid Deep Learning Architecture for Multi-Pathology Retinal Screening</h1>
    <p class="subtitle">MedGemma Impact Challenge - Veredictos Vision</p>

    <section class="meta">
      <div><b>Project:</b> Veredictos Vision</div>
      <div><b>Date:</b> February 2026</div>
      <div><b>Runtime:</b> Kaggle (free tier)</div>
      <div><b>Compute:</b> 2x Tesla T4 (training) + T4/TPU tests</div>
      <div><b>Total Cost:</b> US$ 0</div>
      <div><b>Task:</b> Glaucoma + DR + Vessel + Clinical Narrative</div>
    </section>

    <h2>1. Problem Statement</h2>
    <p>
      This work proposes an end-to-end, low-cost retinal screening pipeline that detects multiple ocular pathologies from fundus images
      and synthesizes a clinical triage report. The objective is to show that high-quality screening support can be achieved with public datasets,
      free compute, and reproducible open tooling.
    </p>

    <h2>2. System Architecture</h2>
    <div class="card">
      <h3>2.1 Multi-model vision stack</h3>
      <ul>
        <li><b>Glaucoma branch:</b> TransUNet-based optic disc/cup segmentation, producing <code>CDR</code> and glaucoma risk signal.</li>
        <li><b>DR branch:</b> EfficientNet-B3 classifier for DR grades 0-4 with calibrated confidence.</li>
        <li><b>Vessel branch:</b> UNet/UNet++ segmentation estimating vessel density as a vascular biomarker.</li>
      </ul>
    </div>
    <div class="card">
      <h3>2.2 Clinical language layer</h3>
      <p>
        Structured outputs from the three branches are passed to MedGemma for report generation. A robust post-processing layer validates
        and normalizes text to avoid instruction echoes and ensure clinically readable narrative output.
      </p>
    </div>

    <h2>3. Datasets and Training</h2>
    <ul>
      <li>APTOS 2019 + Messidor-2 used for diabetic retinopathy grading.</li>
      <li>DRIVE/STARE-style vessel supervision for segmentation branch.</li>
      <li>Public glaucoma-compatible fundus sets for optic cup/disc segmentation workflow.</li>
      <li>Total training time: approximately 6 hours on free Kaggle GPUs.</li>
    </ul>

    <h2>4. Quantitative Results</h2>
    <div class="kpi">
      <div>
        <span>DR Grading (Quadratic Weighted Kappa)</span>
        <b>0.979</b>
      </div>
      <div>
        <span>Glaucoma (Cup Dice)</span>
        <b>0.868</b>
      </div>
      <div>
        <span>Vessel Segmentation Score</span>
        <b>0.717</b>
      </div>
    </div>

    <div class="card">
      <h3>DR Classification Highlights</h3>
      <ul>
        <li>Validation accuracy observed up to <b>0.9616</b>.</li>
        <li>Per-class precision/recall/F1 above 0.90 in all classes in the best validation slice.</li>
        <li>Strong sensitivity in severe/proliferative classes, supporting triage safety.</li>
      </ul>
    </div>

    <h2>5. Clinical Inference Pipeline</h2>
    <p>For each fundus image, the system executes:</p>
    <ul>
      <li>CDR extraction + glaucoma risk stratification.</li>
      <li>DR grade and confidence prediction.</li>
      <li>Vessel density quantification.</li>
      <li>MedGemma narrative generation (GPU), with output sanitation and fallback guards.</li>
    </ul>

    <h2>6. Impact and Reproducibility</h2>
    <p>
      A multi-pathology retinal screening system was built and validated with fully public assets and free compute.
      This directly supports low-resource deployment narratives for global screening programs and challenge impact criteria.
    </p>
    <ul>
      <li>All model checkpoints were exported in <code>/kaggle/working/outputs</code>.</li>
      <li>Final packaging includes metrics JSON, 6 MedGemma reports, and challenge-ready markdown report.</li>
      <li>Notebook workflow is reproducible with environment setup and deterministic artifact paths.</li>
    </ul>

    <h2>7. Limitations and Next Steps</h2>
    <ul>
      <li>Prospective external validation on unseen clinical cohorts.</li>
      <li>Confidence calibration by pathology subgroup.</li>
      <li>Human-in-the-loop review workflow for ambiguous early-stage findings.</li>
      <li>App hardening for production UX and audit logging.</li>
    </ul>

    <h2>8. Conclusion</h2>
    <p>
      Veredictos Vision demonstrates that clinically meaningful, multi-pathology retinal AI screening can be built with strong performance
      and near-zero infrastructure cost. The hybrid architecture (specialized CV models + MedGemma clinical language synthesis)
      is practical, extensible, and ready for challenge demonstration.
    </p>

    <div class="footer">
      Generated as HTML-first technical overview for PDF export. Recommended export: Chrome/Edge Print -> Save as PDF (A4, margins default).
    </div>
  </main>
</body>
</html>
